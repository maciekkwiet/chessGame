!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e,n){var i=n(1),r=n(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1},a=(i(r,o),r.locals?r.locals:{});t.exports=a},function(t,e,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},i=[],r=0;r<t.length;r++){var o=t[r],c=e.base?o[0]+e.base:o[0],l=n[c]||0,h="".concat(c," ").concat(l);n[c]=l+1;var u=s(h),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(a[u].references++,a[u].updater(f)):a.push({identifier:h,updater:y(f,e),references:1}),i.push(h)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var h,u=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function f(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var d=null,g=0;function y(t,e){var n,i,r;if(e.singleton){var o=g++;n=d||(d=l(e)),i=f.bind(null,n,o,!1),r=f.bind(null,n,o,!0)}else n=l(e),i=p.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=s(n[i]);a[r].references--}for(var o=c(t,e),l=0;l<n.length;l++){var h=s(n[l]);0===a[h].references&&(a[h].updater(),a.splice(h,1))}n=o}}}},function(t,e,n){var i=n(3),r=n(4),o=n(5),a=n(6),s=n(7);e=i(!1);var c=r(o),l=r(a),h=r(s);e.push([t.i,"@font-face{font-family:'Munro';src:url("+c+") format(\"truetype\")}#board{grid-column:span 8;display:flex;flex-wrap:wrap;box-shadow:0px 4px 50px #00a3ff;opacity:0.95;width:70vh;height:70vh;opacity:0.95;outline:10px solid rgba(102,237,255,0.719)}#board.pink{box-shadow:0px 4px 50px #ff1c1c;outline:10px solid rgba(255,88,66,0.6)}#board.green{box-shadow:0px 4px 50px #00482a;outline:10px solid rgba(9,66,28,0.6)}#board.purple{box-shadow:0px 4px 50px #490063;outline:10px solid rgba(43,0,63,0.6)}#notation-horizontal{padding-top:1em;display:inline-flex;grid-column:span 8;width:70vh;justify-content:space-evenly;align-content:space-evenly;justify-items:center;align-items:center}#notation-horizontal div{width:8.75vh;text-align:center;font-family:Munro;font-size:1.5rem;color:white;line-height:1.5rem}#notation-vertical{padding-left:1em;display:inline-flex;flex-direction:column-reverse;grid-column:11;grid-row:1/-1;height:70vh;justify-content:space-evenly;align-content:space-evenly;justify-items:center;align-items:center}#notation-vertical div{height:8.75vh;text-align:center;font-family:Munro;font-size:1.5rem;color:white;line-height:8.75vh}.square{width:8.75vh;height:8.75vh;text-align:center;line-height:8.75vh;display:flex;align-items:center;justify-content:center}.currentcolor{background-color:#9935d7 !important}.light{background:#0f96c0}.light.pink{background:#eeb19e}.light.green{background:#9ece87}.light.purple{background:#a887de}.dark{background:#171844}.dark.pink{background:#a64260}.dark.green{background:#409363}.dark.purple{background:#5c42a6}.check{background:red}.pat{background:yellow}.black{color:#0f6bb9}.black.pink{color:#43267e}.black.green{color:#19422a}.black.purple{color:#391a62}.white{color:#fff}.possibleMove{background:#00ffaf}.possibleMove.pink{background:#ffe5a1}.possibleMove.green{background:#fdffa0}.possibleMove.purple{background:#9935d7}.promotion-bg{position:fixed;width:100%;height:100vh;top:0;left:0;background-color:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;visibility:hidden;opacity:0;transition:visibility 0s, opacity 0.5s}.bg-active{visibility:visible;opacity:1}.promotion{background-color:rgba(0,0,0,0.5);width:70%;height:200px;display:flex;justify-content:space-around;align-items:center}.promotion-queen i{font-size:100px;cursor:pointer}.promotion-king i{font-size:100px;cursor:pointer}.promotion-knight i{font-size:100px;cursor:pointer}.promotion-bishop i{font-size:100px;cursor:pointer}.promotion-rook i{font-size:100px;cursor:pointer}@font-face{font-family:'Neon Tubes 2';src:url("+l+') format("opentype")}html,body{margin:0;padding:0}*{box-sizing:border-box}body{background-size:auto;background:linear-gradient(180deg, #0e0b21 0%, rgba(54,34,176,0.15) 71.88%, rgba(57,37,175,0.125) 84.9%, rgba(255,255,255,0) 100%, cyan 100%),url('+h+");background-size:cover;background-repeat:no-repeat;background-position:center;min-height:100vh;margin-right:3%}body.pink{background-image:url(\"https://funkyimg.com/i/33Fbt.png\");background-size:cover}body.green{background-image:url(\"https://funkyimg.com/i/33FfG.jpg\");background-size:cover}body.purple{background-image:url(\"https://funkyimg.com/i/33FiU.jpg\");background-size:cover}#game-title{font-family:'Neon Tubes 2';font-style:normal;font-weight:normal;font-size:60px;line-height:90px;display:flex;align-items:center;justify-content:center;margin-right:2%;margin-bottom:1vh;color:#00f0ff;text-shadow:0px 4px 30px #00f0ff,0px 4px 25px #00f0ff,0px 4px 10px rgba(0,194,255,0.25)}#game-title.pink{color:#ffcf86;text-shadow:0px 4px 30px #f90,0px 4px 25px #f90,0px 4px 10px rgba(255,107,0,0.25)}#game-title.green{color:#44ff92;text-shadow:0px 4px 30px #36d329,0px 4px 25px #36d329,0px 4px 10px rgba(54,211,14,0.25)}#game-title.purple{color:#e0bfff;text-shadow:0px 4px 30px #ad00ff,0px 4px 25px #ad00ff,0px 4px 10px rgba(173,0,255,0.25)}.currentcolor.pink{background-color:#ffb55e !important}.currentcolor.green{background-color:#56b794 !important}.currentcolor.purple{background-color:#e785ff !important}#wrapper{display:flex;flex-direction:column;justify-content:center;margin-left:3.5%;margin-top:0%}#board-wrapper{padding-top:1rem;display:grid;grid-template-columns:repeat(auto-fit, 1fr);align-items:center;justify-items:center;align-content:center;justify-content:center;grid-template-rows:auto}#game-wrapper{padding-top:-1rem;display:flex;grid-template-columns:repeat(auto-fit, 1fr);align-items:center;justify-content:center;grid-template-rows:auto}#startScreen{position:fixed;width:100vw;height:103vh;background:#171844;margin-top:-1%;opacity:0.95;display:flex;justify-content:center;align-items:center;mix-blend-mode:normal;z-index:2;font-family:'Neon Tubes 2';animation:overlay paused 0.25s forwards}#startScreen #startTextBorder{display:flex;justify-content:center;align-items:center;top:30px;margin-left:-1.8%}#startScreen #startTextBorder #startText{background:linear-gradient(180deg, rgba(173,0,255,0.14) 0%, rgba(23,24,68,0.26) 36.98%, rgba(24,24,70,0.44) 69.27%, rgba(173,0,255,0.12) 100%);display:inline-block;box-shadow:0px 0px 25px #ad00ff;outline:3px solid #ad00ff;padding:20px;filter:blur(1px)}#startScreen #startTextBorder #startText h1,#startScreen #startTextBorder #startText h2{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0;margin:0}#startScreen #startTextBorder #startText h1{font-size:60px;line-height:70px;color:#00ff0a;text-shadow:0px 4px 10px #24ff00;text-shadow:3px 3px 2px #f5b7ff;text-decoration-line:underline}#startScreen #startTextBorder #startText h2{font-size:40px;line-height:60px;color:#ffe600;text-shadow:0px 0px 10px #dbff00;text-shadow:2px 2px 2px #f5b7ff}#play:hover{cursor:pointer}#chooseButton{font-size:10px;padding:6px;position:fixed;display:flex;width:400px;text-align:center;border-radius:0px 0px 30px 30px;align-self:flex-start;justify-content:center;align-items:flex-start;color:white;background-color:#1E1F57;box-shadow:0px 0px 15px #ad00ff;border-bottom:2px solid #ad00ff;margin-left:-1%}ul{left:49.5%;top:20%;position:fixed;display:flex;justify-content:left;align-items:flex-start;transform:translate(-50%, -50%);color:white;width:450px;cursor:pointer}ul li{list-style:none;width:30px;height:30px;text-align:center;line-height:30px;margin:0 30px;background:rgba(173,0,255,0.3);border-radius:50%;color:#000635;transition:.5s}ul li:nth-child(1):hover{background:#fff;box-shadow:0 0 10px #00f5ff,0 0 20px #00f0ff,0 0 30px #00f0ff,0 0 0 75px rgba(0,240,255,0.05),0 0 0 60px rgba(0,240,255,0.05),0 0 0 50px rgba(255,255,255,0.05),0 0 0 40px rgba(255,255,255,0.05),0 0 0 30px rgba(255,255,255,0.05)}ul li:nth-child(2):hover{background:#fff;box-shadow:0 0 10px #ff004d,0 0 20px #ff004d,0 0 30px #ff004d,0 0 0 75px rgba(255,0,77,0.05),0 0 0 60px rgba(255,0,77,0.05),0 0 0 50px rgba(255,255,255,0.05),0 0 0 40px rgba(255,255,255,0.05),0 0 0 30px rgba(255,255,255,0.05)}ul li:nth-child(3):hover{background:#fff;box-shadow:0 0 10px #00ff42,0 0 20px #00ff42,0 0 30px #00ff42,0 0 0 75px rgba(0,255,66,0.05),0 0 0 60px rgba(0,255,66,0.05),0 0 0 50px rgba(255,255,255,0.05),0 0 0 40px rgba(255,255,255,0.05),0 0 0 30px rgba(255,255,255,0.05)}ul li:nth-child(4):hover{background:#fff;box-shadow:0 0 10px #bd00ff,0 0 20px #bd00ff,0 0 30px #bd00ff,0 0 0 75px rgba(189,0,255,0.05),0 0 0 60px rgba(189,0,255,0.05),0 0 0 50px rgba(255,255,255,0.05),0 0 0 40px rgba(255,255,255,0.05),0 0 0 30px rgba(255,255,255,0.05)}#clock-bg{display:flex;order:1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(0,194,255,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#clock-bg h3{font-size:14px;background:rgba(255,255,255,0.6);width:160px;font-weight:normal;text-align:center;height:17px;justify-content:center;align-items:center;top:50%;display:flex;margin-top:8px;text-shadow:0px 0px 0px white, 0px 0px 0px white}#clock-bg h5{font-size:14px;background:rgba(0,0,0,0.6);width:160px;font-weight:normal;text-align:center;justify-content:center;align-items:center;height:17px;top:50%;display:flex;margin-top:8px;text-shadow:0px 0px 0px white, 0px 0px 0px white}#clock-bg #timerwhite{background:rgba(255,255,255,0.3);width:160px;margin-left:0px;height:40px;justify-content:center;align-items:center;top:50%;margin-top:-14px;display:flex;font-weight:normal;text-shadow:0px 0px 0px white, 0px 0px 0px white}#clock-bg #timerblack{background:rgba(0,0,0,0.3);width:160px;margin-left:0px;height:40px;top:50%;margin-top:-23px;justify-content:center;align-items:center;display:flex;font-weight:normal;text-shadow:0px 0px 0px white, 0px 0px 0px white}#end{position:fixed;width:100vw;height:109vh;background:rgba(51,0,75,0.85);display:flex;justify-content:center;align-self:center;align-content:center;align-items:center;mix-blend-mode:normal;font-family:'Neon Tubes 2';color:#00e0ff;text-shadow:0px 0px 40px #00ffc2;z-index:100;display:none;flex-wrap:wrap;left:0%}#end :nth-child(1){background:linear-gradient(180deg, rgba(173,0,255,0.14) 0%, rgba(23,24,68,0.26) 36.98%, rgba(24,24,70,0.44) 69.27%, rgba(173,0,255,0.12) 100%);margin-right:20px;font-size:40px;text-align:center;width:450px;box-shadow:0px 0px 25px #ad00ff;outline:3px solid #ad00ff;padding:20px;text-shadow:2px 2px 2px #f5b7ff}#table-bg{display:flex;width:200px;order:-1;min-height:30vh;max-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(0,194,255,0.6);overflow-y:scroll;padding:10px 40px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#table-bg:nth-child(1){align-items:center;text-align:center;justify-content:center}::-webkit-scrollbar{width:6px;height:10px;background:rgba(0,0,0,0.4)}::-webkit-scrollbar-thumb:vertical{background:rgba(255,255,255,0.4)}#table-bg.pink{display:flex;width:200px;order:-1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(255,92,0,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#table-bg.green{display:flex;width:200px;order:-1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(122,151,60,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#table-bg.purple{display:flex;width:200px;order:-1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(116,19,196,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}.dvTable{position:fixed;width:100%;height:100%;background-color:white;overflow:hidden;overflow-y:scroll}.piece{max-height:8.75vh;max-width:8.75vh;padding:5% 5% 0 5%;align-self:flex-end}@keyframes overlay{from{opacity:0.95}to{opacity:0;visibility:hidden}}#table-bg{display:flex;width:200px;order:-1;min-height:30vh;max-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(0,194,255,0.6);overflow-y:scroll;padding:10px 40px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#table-bg:nth-child(1){align-items:center;text-align:center;justify-content:center}::-webkit-scrollbar{width:6px;height:10px;background:rgba(0,0,0,0.4)}::-webkit-scrollbar-thumb:vertical{background:rgba(255,255,255,0.4)}#table-bg.pink{display:flex;width:200px;order:-1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(255,92,0,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#table-bg.green{display:flex;width:200px;order:-1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(122,151,60,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#table-bg.purple{display:flex;width:200px;order:-1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(116,19,196,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}.dvTable{position:fixed;width:100%;height:100%;background-color:white;overflow:hidden;overflow-y:scroll}#clock-bg{display:flex;width:200px;order:1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(0,194,255,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#clock-bg.pink{display:flex;width:200px;order:1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(255,92,0,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#clock-bg.green{display:flex;width:200px;order:1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(122,151,60,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#clock-bg.purple{display:flex;width:200px;order:1;min-height:30vh;margin:0 2rem 0 2rem;font-size:17px;color:#fff;background:rgba(116,19,196,0.6);padding:10px 20px 30px;text-align:center;align-self:center;justify-content:right;left:70%;font-family:'Neon Tubes 2'}#dvClock{position:fixed;width:100%;height:100%;background-color:white;overflow:hidden;overflow-y:scroll}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([r]).join("\n")}var a,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,n){"use strict";n.r(e),e.default=n.p+"fonts/munro-small.ttf"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"fonts/NeonTubes2.otf"},function(t,e,n){"use strict";n.r(e),e.default=n.p+"imgs/src/img/background.jpg"},function(t,e,n){"use strict";n.r(e);n(0);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.side=i,this.hasMoved=!1}var e,n,r;return e=t,(n=[{key:"move",value:function(t){var e=Number(t[0]),n=Number(t[1]);this.hasMoved=!0,this.display=document.getElementById("".concat(this.x,",").concat(this.y)).innerHTML,document.getElementById("".concat(this.x,",").concat(this.y)).innerHTML="",this.x=e,this.y=n,document.getElementById(t).innerHTML=this.display}},{key:"findLegalMoves",value:function(){}},{key:"findAttackingMoves",value:function(){}}])&&i(e.prototype,n),r&&i(e,r),t}();n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t,n,i){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return(r=s(this,c(e).call(this,t,n,i))).name="rook",r.display='<img class="piece" src="./imgs/src/img/'.concat("blue","/").concat(r.name,"-").concat(i,'.png">'),r}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(i=[{key:"findLegalMoves",value:function(t){var e=[],n=this.findAttackingMoves(t),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value;t[c.charAt(0)][c.charAt(2)]&&t[c.charAt(0)][c.charAt(2)].side===this.side||e.push(c)}}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return e}},{key:"findAttackingMoves",value:function(t){for(var e=[],n=1;n<=7&&!(this.y-n<0);n++){if(t[this.x][this.y-n]){t[this.x][this.y-n]&&e.push("".concat(this.x,",").concat(this.y-n));break}e.push("".concat(this.x,",").concat(this.y-n))}for(var i=1;i<=7&&!(this.y+i>7);i++){if(t[this.x][this.y+i]){t[this.x][this.y+i]&&e.push("".concat(this.x,",").concat(this.y+i));break}e.push("".concat(this.x,",").concat(this.y+i))}for(var r=1;r<=7&&!(this.x-r<0);r++){if(t[this.x-r][this.y]){t[this.x-r][this.y]&&e.push("".concat(this.x-r,",").concat(this.y));break}e.push("".concat(this.x-r,",").concat(this.y))}for(var o=1;o<=7&&!(this.x+o>7);o++){if(t[this.x+o][this.y]){t[this.x+o][this.y]&&e.push("".concat(this.x+o,",").concat(this.y));break}e.push("".concat(this.x+o,",").concat(this.y))}return e}}])&&a(n.prototype,i),r&&a(n,r),e}(r);n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t,n,i){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return(r=p(this,d(e).call(this,t,n,i))).name="queen",r.display='<img class="piece" src="./imgs/src/img/'.concat("blue","/").concat(r.name,"-").concat(i,'.png">'),r}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,t),n=e,(i=[{key:"findLegalMoves",value:function(t){for(var e=[],n=this.findAttackingMoves(t),i=0;i<n.length;i++){var r=n[i];t[r[0]][r[2]]&&t[r[0]][r[2]].side==this.side&&e.push(n[i])}return n.filter((function(t){return!e.includes(t)}))}},{key:"findAttackingMoves",value:function(t){for(var e=[],n=this.x<=this.y?this.x:this.y,i=7-this.y<=this.x?7-this.y:this.x,r=this.y<=7-this.x?this.y:7-this.x,o=7-this.y<=7-this.x?7-this.y:7-this.x,a=1;a<=n;a++){if(t[this.x-a][this.y-a]){e.push("".concat(this.x-a,",").concat(this.y-a));break}n>0&&e.push("".concat(this.x-a,",").concat(this.y-a))}for(var s=1;s<=i;s++){if(t[this.x-s][this.y+s]){e.push("".concat(this.x-s,",").concat(this.y+s));break}i>0&&e.push("".concat(this.x-s,",").concat(this.y+s))}for(var c=1;c<=o;c++){if(t[this.x+c][this.y+c]){e.push("".concat(this.x+c,",").concat(this.y+c));break}o>0&&e.push("".concat(this.x+c,",").concat(this.y+c))}for(var l=1;l<=r;l++){if(t[this.x+l][this.y-l]){e.push("".concat(this.x+l,",").concat(this.y-l));break}r>0&&e.push("".concat(this.x+l,",").concat(this.y-l))}for(var h=1;h<=7&&!(this.y-h<0);h++){if(t[this.x][this.y-h]){e.push("".concat(this.x,",").concat(this.y-h));break}e.push("".concat(this.x,",").concat(this.y-h))}for(var u=1;u<=7&&!(this.y+u>7);u++){if(t[this.x][this.y+u]){e.push("".concat(this.x,",").concat(this.y+u));break}e.push("".concat(this.x,",").concat(this.y+u))}for(var f=1;f<=7&&!(this.x-f<0);f++){if(t[this.x-f][this.y]){e.push("".concat(this.x-f,",").concat(this.y));break}e.push("".concat(this.x-f,",").concat(this.y))}for(var p=1;p<=7&&!(this.x+p>7);p++){if(t[this.x+p][this.y]){e.push("".concat(this.x+p,",").concat(this.y));break}e.push("".concat(this.x+p,",").concat(this.y))}return e}}])&&f(n.prototype,i),r&&f(n,r),e}(r);n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(t,n,i){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return(r=m(this,v(e).call(this,t,n,i))).name="bishop",r.display='<img class="piece" src="./imgs/src/img/'.concat("blue","/").concat(r.name,"-").concat(i,'.png">'),r}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,t),n=e,(i=[{key:"findAttackingMoves",value:function(t){for(var e=[],n=this.x<=this.y?this.x:this.y,i=7-this.y<=this.x?7-this.y:this.x,r=this.y<=7-this.x?this.y:7-this.x,o=7-this.y<=7-this.x?7-this.y:7-this.x,a=1;a<=n;a++){if(t[this.x-a][this.y-a]){e.push("".concat(this.x-a,",").concat(this.y-a));break}n>0&&e.push("".concat(this.x-a,",").concat(this.y-a))}for(var s=1;s<=i;s++){if(t[this.x-s][this.y+s]){e.push("".concat(this.x-s,",").concat(this.y+s));break}i>0&&e.push("".concat(this.x-s,",").concat(this.y+s))}for(var c=1;c<=o;c++){if(t[this.x+c][this.y+c]){e.push("".concat(this.x+c,",").concat(this.y+c));break}o>0&&e.push("".concat(this.x+c,",").concat(this.y+c))}for(var l=1;l<=r;l++){if(t[this.x+l][this.y-l]){e.push("".concat(this.x+l,",").concat(this.y-l));break}r>0&&e.push("".concat(this.x+l,",").concat(this.y-l))}return e}},{key:"findLegalMoves",value:function(t){for(var e=[],n=this.findAttackingMoves(t),i=0;i<n.length;i++){var r=n[i];t[r[0]][r[2]]&&t[r[0]][r[2]].side==this.side&&e.push(n[i])}return n.filter((function(t){return!e.includes(t)}))}}])&&x(n.prototype,i),r&&x(n,r),e}(r);n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function j(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=function(t){function e(t,n,i){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return(r=j(this,S(e).call(this,t,n,i))).name="knight",r.display='<img class="piece" src="./imgs/src/img/'.concat("blue","/").concat(r.name,"-").concat(i,'.png">'),r}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,t),n=e,(i=[{key:"findAttackingMoves",value:function(t){for(var e=0,n=0,i=[],r=0,o=[[2,1],[1,2],[-2,1],[1,-2],[-2,-1],[2,-1],[-1,2],[-1,-2]];r<o.length;r++){var a=o[r];e=this.x+a[0],n=this.y+a[1],e<=7&&e>=0&&n<=7&&n>=0&&(t[e][n]&&t[e][n].side===this.side&&t[e][n].side!=this.side||i.push("".concat(e,",").concat(n)))}return i}},{key:"findLegalMoves",value:function(t){var e=this.findAttackingMoves(t),n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value,l=c[0],h=c[2];t[l][h]&&t[l][h].side===this.side||n.push(c)}}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}])&&A(n.prototype,i),r&&A(n,r),e}(r);n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t,e,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=N(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z=function(t){function e(t,n,i){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return(r=C(this,N(e).call(this,t,n,i))).name="pawn",r.isPassage=!1,r.display='<img class="piece" src="./imgs/src/img/'.concat("blue","/").concat(r.name,"-").concat(i,'.png">'),r}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,t),n=e,(i=[{key:"move",value:function(t,n){var i=this;Math.abs(this.y-t[1])>1&&(this.isPassage=!0);var r=this.enPassant(n);0!=r&&r.forEach((function(e){e[0]==t[0]&&i.destroyEnPassantPawn(n,t[0],i.y)})),_(N(e.prototype),"move",this).call(this,t),0===this.y&&"white"===this.side&&this.promote(n),7===this.y&&"black"===this.side&&this.promote(n)}},{key:"destroyEnPassantPawn",value:function(t,e,n){t[e][n]=null,document.getElementById("".concat(+e,",").concat(+n)).innerHTML=""}},{key:"findAttackingMoves",value:function(){var t=[];return"white"==this.side&&(0!=this.x&&t.push("".concat(this.x-1,",").concat(this.y-1)),7!=this.x&&t.push("".concat(this.x+1,",").concat(this.y-1))),"black"==this.side&&(0!=this.x&&t.push("".concat(this.x-1,",").concat(this.y+1)),7!=this.x&&t.push("".concat(this.x+1,",").concat(this.y+1))),t}},{key:"findLegalMoves",value:function(t){var e=[],n=this.enPassant(t);return"white"==this.side&&(t[this.x][this.y-1]||e.push("".concat(this.x,",").concat(this.y-1)),6!=this.y||t[this.x][this.y-1]||t[this.x][this.y-2]||e.push("".concat(this.x,",").concat(this.y-2)),0!=this.x&&t[this.x-1][this.y-1]&&this.side!=t[this.x-1][this.y-1].side&&e.push("".concat(this.x-1,",").concat(this.y-1)),7!=this.x&&t[this.x+1][this.y-1]&&this.side!=t[this.x+1][this.y-1].side&&e.push("".concat(this.x+1,",").concat(this.y-1))),"black"==this.side&&(t[this.x][this.y+1]||e.push("".concat(this.x,",").concat(this.y+1)),1!=this.y||t[this.x][this.y+1]||t[this.x][this.y+2]||e.push("".concat(this.x,",").concat(this.y+2)),0!=this.x&&t[this.x-1][this.y+1]&&this.side!=t[this.x-1][this.y+1].side&&e.push("".concat(this.x-1,",").concat(this.y+1)),7!=this.x&&t[this.x+1][this.y+1]&&this.side!=t[this.x+1][this.y+1].side&&e.push("".concat(this.x+1,",").concat(this.y+1))),e=e.concat(n)}},{key:"enPassant",value:function(t){var e=[];return"white"==this.side&&(0!=this.x&&t[this.x-1][this.y]&&this.side!=t[this.x-1][this.y].side&&this.name==t[this.x-1][this.y].name&&1==t[this.x-1][this.y].isPassage&&e.push("".concat(this.x-1,",").concat(this.y-1)),7!=this.x&&t[this.x+1][this.y]&&this.side!=t[this.x+1][this.y].side&&this.name==t[this.x+1][this.y].name&&1==t[this.x+1][this.y].isPassage&&e.push("".concat(this.x+1,",").concat(this.y-1))),"black"==this.side&&(0!=this.x&&t[this.x-1][this.y]&&this.side!=t[this.x-1][this.y].side&&this.name==t[this.x-1][this.y].name&&1==t[this.x-1][this.y].isPassage&&e.push("".concat(this.x-1,",").concat(this.y+1)),7!=this.x&&t[this.x+1][this.y]&&this.side!=t[this.x+1][this.y].side&&this.name==t[this.x+1][this.y].name&&1==t[this.x+1][this.y].isPassage&&e.push("".concat(this.x+1,",").concat(this.y+1))),e}},{key:"promote",value:function(t){var e=this,n=document.querySelector(".promotion-bg"),i=document.querySelector(".promotion-queen"),r=document.querySelector(".promotion-bishop"),o=document.querySelector(".promotion-knight"),a=document.querySelector(".promotion-rook"),s=[{handler:i,pieceName:y},{handler:r,pieceName:w},{handler:o,pieceName:T},{handler:a,pieceName:h}];document.getElementById("".concat(this.x,",").concat(this.y)).innerHTML="",n.classList.add("bg-active");for(var c=function(){var i=u[l],r=i.handler,o=new(0,i.pieceName)(e.x,e.y,e.side);r.innerHTML=o.display;var a=function(){t[e.x][e.y]=o,document.getElementById("".concat(e.x,",").concat(e.y)).innerHTML=o.display,n.classList.remove("bg-active"),function(){for(var t=0;t<s.length;t++)s[t].handler.removeEventListener("click",s[t].listener)}()};r.addEventListener("click",a),i.listener=a},l=0,u=s;l<u.length;l++)c()}}])&&E(n.prototype,i),r&&E(n,r),e}(r);n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function q(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t,e,n){return(H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U=function(t){function e(t,n,i){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return(r=q(this,R(e).call(this,t,n,i))).name="king",r.display='<img class="piece" src="./imgs/src/img/'.concat("blue","/").concat(r.name,"-").concat(r.side,'.png">'),r}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,t),n=e,(i=[{key:"move",value:function(t,n){Math.abs(t[0]-this.x)>1&&(t[0]-this.x<-1&&n[0][this.y].move([t[0]+1,this.y]),t[0]-this.x>1&&n[7][this.y].move([t[0]-1,this.y])),H(R(e.prototype),"move",this).call(this,t)}},{key:"oponentMoves",value:function(t){for(var e=[],n=0;n<=7;n++)for(var i=0;i<=7;i++)t[n][i]&&t[n][i].side!==this.side&&(e=t[n][i].findAttackingMoves(t).concat(e));return e}},{key:"isCastlingAttackingMoves",value:function(t,e,n){for(var i=[],r=[],o=e;o<=n;o++)r.push("".concat(o,",").concat(this.y));for(var a=0;a<r.length;a++)for(var s=0;s<t.length;s++)r[a].toString()[0]==t[s].toString()[0]&&r[a].toString()[2]==t[s].toString()[2]&&i.push(r[a]);return 0==i.length}},{key:"isLongCastlingPossible",value:function(t,e){return t[0][this.y]&&!t[1][this.y]&&!t[2][this.y]&&!t[3][this.y]&&!t[0][this.y].hasMoved&&this.isCastlingAttackingMoves(e,0,4)}},{key:"isShortCastlingPossible",value:function(t,e){return t[7][this.y]&&!t[5][this.y]&&!t[6][this.y]&&!t[7][this.y].hasMoved&&this.isCastlingAttackingMoves(e,4,7)}},{key:"findLegalMoves",value:function(t,e){var n=this,i=e,r=[],o=this.findAttackingMoves(t),a=this.oponentMoves(t);return o.forEach((function(e){t[e[0]][e[2]]&&t[e[0]][e[2]].side===n.side&&r.push("".concat(e[0],",").concat(e[2]))})),this.hasMoved||(this.isLongCastlingPossible(t,i)&&o.push("".concat([2],",").concat([this.y])),this.isShortCastlingPossible(t,i)&&o.push("".concat([6],",").concat([this.y]))),o.filter((function(t){return!r.includes(t)})).filter((function(t){return!a.includes(t)}))}},{key:"findAttackingMoves",value:function(){for(var t=0,e=0,n=[],i=0,r=[[1,1],[-1,1],[-1,-1],[1,-1],[1,0],[-1,0],[0,-1],[0,1]];i<r.length;i++){var o=r[i];t=this.x+o[0],e=this.y+o[1],t<=7&&t>=0&&e<=7&&e>=0&&n.push("".concat(t,",").concat(e))}return n}}])&&B(n.prototype,i),r&&B(n,r),e}(r);function F(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var K=function(t,e){for(var n=0;n<e.length;n++)for(var i=0;i<e[0].length;i++)t(e[n][i],n,i)},X=function(t){return[Number(t[0]),Number(t[2])]};function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var D=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameArea=function(){for(var t=new Array(8),e=0;e<8;e++)t[e]=new Array(8);return t}(),this.gameAreaHandler=document.getElementById("board"),this.generateNotation(),this.setPieces(),this.setup()}var e,n,i;return e=t,(n=[{key:"setup",value:function(){for(var t=0;t<this.gameArea.length;t++)for(var e=0;e<this.gameArea[t].length;e++){var n=document.createElement("div");n.id="".concat(e,",").concat(t),n.innerHTML=this.gameArea[e][t]?this.gameArea[e][t].display:"",n.className="square",n.className+=e%2==t%2?" light":" dark",this.gameAreaHandler.appendChild(n)}}},{key:"generateNotation",value:function(){for(var t=["a","b","c","d","e","f","g","h"],e=[1,2,3,4,5,6,7,8],n=document.getElementById("notation-horizontal"),i=document.getElementById("notation-vertical"),r=0;r<t.length;r++){var o=document.createElement("div");o.innerHTML=t[r],n.appendChild(o)}for(var a=0;a<e.length;a++){var s=document.createElement("div");s.innerHTML=e[a],i.appendChild(s)}}},{key:"lightUpCheck",value:function(t){var e=this,n=t.x,i=t.y,r=setInterval((function(){return e.changeBackgroundColor(n,i)}),300);setTimeout((function(){clearInterval(r)}),1200)}},{key:"changeBackgroundColor",value:function(t,e){var n=document.getElementById("".concat(t,",").concat(e)),i=e%2==t%2?"square light":"square dark";n.className="square check"==n.className?i:"square check"}},{key:"SelectedBackground",value:function(t){document.getElementById(t).classList.toggle("currentcolor")}},{key:"changeSquareStyle",value:function(t,e){document.getElementById("".concat(t[0],",").concat(t[1])).className=e}},{key:"setPieces",value:function(){var t=new h(0,7,"white");this.gameArea[t.x][t.y]=t,t=new h(7,7,"white"),this.gameArea[t.x][t.y]=t,t=new h(0,0,"black"),this.gameArea[t.x][t.y]=t,t=new h(7,0,"black"),this.gameArea[t.x][t.y]=t;var e=new y(3,7,"white");this.gameArea[e.x][e.y]=e,e=new y(3,0,"black"),this.gameArea[e.x][e.y]=e;var n=new T(1,7,"white");this.gameArea[n.x][n.y]=n,n=new T(6,7,"white"),this.gameArea[n.x][n.y]=n,n=new T(6,0,"black"),this.gameArea[n.x][n.y]=n,n=new T(1,0,"black"),this.gameArea[n.x][n.y]=n;var i=new U(4,7,"white");this.gameArea[i.x][i.y]=i,i=new U(4,0,"black"),this.gameArea[i.x][i.y]=i;for(var r=0;r<this.gameArea.length;r++)this.gameArea[r][6]=new z(r,6,"white");var o=new z(7,6,"white");this.gameArea[o.x][o.y]=o,o=new z(7,1,"black"),this.gameArea[o.x][o.y]=o;for(var a=0;a<this.gameArea.length;a++)this.gameArea[a][1]=new z(a,1,"black");var s=new w(2,7,"white");this.gameArea[s.x][s.y]=s,s=new w(5,7,"white"),this.gameArea[s.x][s.y]=s,s=new w(5,0,"black"),this.gameArea[s.x][s.y]=s,s=new w(2,0,"black"),this.gameArea[s.x][s.y]=s}},{key:"highlightPossibleMoves",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;document.getElementById(a).classList.add("possibleMove")}}catch(t){n=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"removeHighlight",value:function(){for(var t=0;t<this.gameArea.length;t++)for(var e=0;e<this.gameArea[t].length;e++)document.getElementById("".concat(t,",").concat(e)).classList.remove("possibleMove")}},{key:"movePiece",value:function(t,e){var n=Y(e,2),i=n[0],r=n[1];this.gameArea[t.x][t.y]=null,t.move(e,this.gameArea),this.gameArea[i][r]=t}},{key:"tryPieceMove",value:function(t,e){var n=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=F(t[n]);return e}(this.gameArea),i=Y(e,2),r=i[0],o=i[1];return n[t.x][t.y]=null,n[r][o]=t,n}}])&&J(e.prototype,n),i&&J(e,i),t}();function W(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Q=function(){function t(e,n,i,r,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.side=i,this.name=r,this.toX=o,this.toY=a,this.castling="",this.promotion=!1,this.attack=!1,this.anotherPieceInRow="",this.anotherPieceInColumn=""}var e,n,i;return e=t,(n=[{key:"parseNotation",value:function(){var t=["a","b","c","d","e","f","g","h"],e=[1,2,3,4,5,6,7,8];this.x=t[this.x],this.y=e[this.y],this.toX=t[this.toX],this.toY=e[this.toY]}},{key:"checkCastling",value:function(){"king"===this.name&&this.toX-this.x<-1&&(this.castling="long"),"king"===this.name&&this.toX-this.x>1&&(this.castling="short")}},{key:"checkAttack",value:function(t){t[this.toX][this.toY]&&(this.attack=!0)}},{key:"checkPromotion",value:function(){7===this.toY&&"pawn"===this.name&&"black"===this.side&&(this.promotion=!0),0===this.toY&&"pawn"===this.name&&"white"===this.side&&(this.promotion=!0)}},{key:"findAnotherPieces",value:function(t){for(var e=["a","b","c","d","e","f","g","h"],n=[1,2,3,4,5,6,7,8],i=0;i<=7;i++)for(var r=0;r<=7;r++)t[i][r]&&t[i][r].side===this.side&&t[i][r].name===this.name&&(t[i][r].x===this.x&&t[i][r].y!==this.y&&(this.anotherPieceInColumn=n[this.y]),t[i][r].x!==this.x&&t[i][r].y===this.y&&(this.anotherPieceInRow=e[this.x]))}},{key:"parseElement",value:function(t){this.checkPromotion(),this.checkCastling(),this.checkAttack(t),this.findAnotherPieces(t),this.parseNotation()}}])&&W(e.prototype,n),i&&W(e,i),t}();function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var $=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"generateHistoryTable",value:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r="",o="";i.anotherPieceInRow&&(r=i.anotherPieceInRow),i.anotherPieceInColumn&&(o=i.anotherPieceInColumn);var a=i.toX+i.toY,s=i.name.charAt(0).toUpperCase()+r+o+a;"pawn"===i.name&&(s=a),"knight"===i.name&&(s="N"+r+o+a),!0===i.attack&&(s=i.name.charAt(0).toUpperCase()+r+o+"x"+a,"pawn"===i.name&&(s=i.x+"x"+a),"knight"===i.name&&(s="N"+r+o+"x"+a)),"long"===i.castling&&(s="O-O-O"),"short"===i.castling&&(s="O-O"),e.push(s)}var c=document.createElement("TABLE");c.border="1";for(var l=[],h=0;h<e.length;h+=2)e[h+1]?l.push([e[h],e[h+1]]):l.push([e[h],""]);for(var u=0;u<l.length;u++)for(var f=c.insertRow(-1),p=0;p<2;p++)f.insertCell(-1).innerHTML=l[u][p];var d=document.getElementById("dvTable");d.innerHTML="",d.appendChild(c)}}])&&V(e.prototype,n),i&&V(e,i),t}();function Z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tt=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.start=this.start.bind(this),this.pause=this.pause.bind(this),this.seconds=e,this.color=r,this.player=n,this.handleEndGame=i,this.timerHandler=document.querySelector("#"+n),this.end=document.querySelector("#end")}var e,n,i;return e=t,(n=[{key:"start",value:function(){var t=this;this.interval=setInterval((function(){return t.timedown()}),1e3)}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"stop",value:function(){this.pause(),this.handleEndGame(),console.log("STOP")}},{key:"tie",value:function(){this.pause(),this.end.style.display="flex",this.end.innerHTML="<div>We have a tie</div>"}},{key:"timedown",value:function(){if(this.timerHandler.innerHTML=this.convertSeconds(this.seconds),this.seconds>0)return this.seconds--,this.seconds;this.stop()}},{key:"convertSeconds",value:function(t){var e=Math.floor(t/60),n=t%60;return(e=e<10?"0"+e:e)+":"+(n=n<10?"0"+n:n)}}])&&Z(e.prototype,n),i&&Z(e,i),t}();function et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function nt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var it=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.endGame=this.endGame.bind(this),this.currentPlayer="white",this.round=0,this.board=new D,this.gameArea=this.board.gameArea,this.legalMoves=[],this.selectedPiece=null,this.board.gameAreaHandler.addEventListener("click",(function(t){return e.onClick(t)})),this.whitePlayerTimer=new tt(900,"timerwhite",this.endGame,"black"),this.blackPlayerTimer=new tt(900,"timerblack",this.endGame,"white"),this.historyArray=[],this.HistoryTable=new $,this.statusTable=[]}var e,n,i;return e=t,(n=[{key:"onClick",value:function(t){var e=t.target.classList.contains("square")?t.target:t.target.parentElement,n=e.id;0!==this.legalMoves.length?this.legalMoves.includes(n)?this.handleMove(e):this.removeSelection():this.handleSelect(e)}},{key:"removeSelection",value:function(){var t=this.selectedPiece,e=t.x,n=t.y;this.board.removeHighlight(),this.board.SelectedBackground("".concat(e,",").concat(n)),this.selectedPiece=null,this.legalMoves=[]}},{key:"changeTurn",value:function(){this.round%2==0&&(this.currentPlayer="black"),this.round%2==1&&(this.currentPlayer="white"),this.round++}},{key:"handleSelect",value:function(t){var e=this,n=et(X(t.id),2),i=n[0],r=n[1];if(this.gameArea[i][r]&&this.gameArea[i][r].side===this.currentPlayer){this.board.SelectedBackground(t.id),this.selectedPiece=this.gameArea[i][r];var o=this.selectedPiece.findLegalMoves(this.gameArea,this.getPlayerAttack("white"===this.currentPlayer?"black":"white",this.gameArea));this.legalMoves=o.filter((function(t){var n=e.board.tryPieceMove(e.selectedPiece,X(t));return!e.isChecked(n)})),this.board.highlightPossibleMoves(this.legalMoves)}}},{key:"handleMove",value:function(t){var e=this,n=t.id;if(this.legalMoves.includes(n)){var i=this.selectedPiece,r=i.x,o=i.y;this.board.SelectedBackground("".concat(r,",").concat(o)),"white"===this.currentPlayer?(this.blackPlayerTimer.start(),this.whitePlayerTimer.pause()):(this.whitePlayerTimer.start(),this.blackPlayerTimer.pause()),this.createHistoryArray(this.selectedPiece,X(n)),this.board.movePiece(this.selectedPiece,X(n)),this.board.removeHighlight(),this.selectedPiece=null,this.legalMoves=[],this.checkBoardStatus(this.currentPlayer,this.gameArea),this.changeTurn(),this.resetPawnFlag(this.currentPlayer,this.gameArea),this.isChecked()&&(this.board.lightUpCheck(this.getKingPosition(this.gameArea)),this.isCheckMate()&&(setTimeout((function(t){return e.endGame(t)}),1200),"white"==this.currentPlayer?this.whitePlayerTimer.stop():this.blackPlayerTimer.stop())),this.isPat()}}},{key:"endGame",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gameArea,e=document.querySelector("#end");e.style.display="flex",e.innerHTML="<div>GAME OVER!  Winner:"+("white"===this.currentPlayer?"black":"white")+"</div>",this.board.changeSquareStyle(this.getKingPosition(t).x.toString()+this.getKingPosition(t).y.toString(),"square check")}},{key:"isChecked",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gameArea,e=this.getKingPosition(t),n=this.getPlayerMoves("white"===this.currentPlayer?"black":"white",t);return!!n.some((function(t){return t[0]==e.x&&t[2]==e.y}))}},{key:"isCheckMate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gameArea,n=this.getPlayerPieces(this.currentPlayer,e);return n.every((function(n){return n.findLegalMoves(e,t.getPlayerAttack("white"===t.currentPlayer?"black":"white",t.gameArea)).every((function(e){var i=t.board.tryPieceMove(n,X(e));return t.isChecked(i)}))}))}},{key:"resetPawnFlag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gameArea,n=this.getPlayerPieces(t,e),i=n.filter((function(t){return"pawn"==t.name}));return i.forEach((function(t){return t.isPassage=!1}))}},{key:"isPat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gameArea,e=this.getPlayerMoves("white"===this.currentPlayer?"white":"black",t);this.isChecked()||0!=e.length||(this.whitePlayerTimer.tie(),this.blackPlayerTimer.pause(),this.board.changeSquareStyle(this.getKingPosition(this.gameArea).x.toString()+this.getKingPosition(this.gameArea).y.toString(),"square pat"))}},{key:"getKingPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gameArea,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentPlayer,n={};return K((function(t,i,r){t&&t.side===e&&"king"===t.name&&(n.x=i,n.y=r)}),t),n}},{key:"getPlayerPieces",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gameArea;return e.flat().filter((function(e){return e&&e.side===t}))}},{key:"getPlayerMoves",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gameArea,i=this.getPlayerPieces(t,n);return i.map((function(t){return t.findLegalMoves(n,e.getPlayerAttack("white"===e.currentPlayer?"black":"white",e.gameArea))})).flat()}},{key:"getPlayerAttack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gameArea,n=this.getPlayerPieces(t,e);return n.map((function(t){return t.findAttackingMoves(e)})).flat()}},{key:"createHistoryArray",value:function(t,e){var n=new Q(t.x,t.y,t.side,t.name,e[0],e[1]);n.parseElement(this.gameArea),this.historyArray.push(n),this.HistoryTable.generateHistoryTable(this.historyArray)}},{key:"checkBoardStatus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gameArea,n=JSON.parse(JSON.stringify(this.getPlayerPieces(t,e)));this.statusTable.push(n);var i=this.statusTable.filter((function(t){return JSON.stringify(t)===JSON.stringify(n)}));3===i.length&&this.whitePlayerTimer.tie()}}])&&nt(e.prototype,n),i&&nt(e,i),t}();function rt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var at=function(){function t(){var e,n,i,r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=function(){for(var t=rt(document.querySelectorAll("img.piece")),e=0;e<t.length;e++){var n=t[e].src.split("/"),i=n.indexOf("img");n[i+1]=r.currentColor;var o=n.join("/");t[e].src=o}},(n="pieceSrc")in(e=this)?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i;var o=rt(document.querySelectorAll("#startScreen ul>li"));this.handleColorPick=this.handleColorPick.bind(this),o.forEach((function(t){return t.addEventListener("click",r.handleColorPick)})),this.currentColor="blue"}var e,n,i;return e=t,(n=[{key:"handleColorPick",value:function(t){var e=this;this.currentColor=t.target.dataset.color,["body","#wrapper","#game-title","#board","#clock-bg","#table-bg "].forEach((function(t){return e.changeElementColor(t)})),rt(document.querySelectorAll(".square.light,.square.dark")).map((function(t){t.classList.remove("blue","pink","green","purple"),t.classList.add(e.currentColor)})),this.pieceSrc()}},{key:"changeElementColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";document.querySelector(t).classList=e,document.querySelector(t).classList.add(this.currentColor)}}])&&ot(e.prototype,n),i&&ot(e,i),t}();window.onload=function(){var t,e;t=document.querySelector("#play"),e=document.querySelector("#startScreen"),t.addEventListener("click",(function(){e.style.animationPlayState="running"})),new at,new it}}]);